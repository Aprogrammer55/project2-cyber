<!DOCTYPE html>
<html lang="en">

<!--
CTRL+F QUICK CONFIG:
QUIZ_TIME        -> when quiz appears
REWIND_TIME      -> how many seconds user is forced back
QUIZ_QUESTION    -> quiz text
QUIZ_ANSWER      -> accepted answer keyword
-->

<head>
    <meta charset="UTF-8">
    <title>Red Team - Level 1</title>

    <style>
        body {
            margin: 0;
            font-family: Consolas, monospace;
            background: #080808;
            color: #f2f2f2;
            display: flex;
            min-height: 100vh;
        }

        /* LEFT / RIGHT */
        .left-container {
            width: 50%;
            padding: 30px;
            overflow-y: auto;
        }

        .right-container {
            width: 50%;
            background: #0f0f0f;
            border-left: 2px solid #220000;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* TABS */
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .tab {
            padding: 10px 18px;
            background: #1a1a1a;
            border: 1px solid #330000;
            border-bottom: none;
            border-radius: 6px 6px 0 0;
            cursor: pointer;
        }

        .tab.active {
            background: #b30000;
            box-shadow: 0 0 10px #ff0000;
        }

        .content-box {
            display: none;
        }

        .content-box.active {
            display: block;
        }

        /* VIDEO */
        video {
            width: 90%;
            margin-top: 20px;
            border-radius: 10px;
            border: 2px solid #330000;
            box-shadow: 0 0 20px #ff000050;
        }

        /* QUIZ OVERLAY */
        .overlay {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.85);
            z-index: 9998;
        }

        .quiz-popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(145deg, #160000, #0c0000);
            border: 2px solid #ff0000;
            box-shadow: 0 0 30px #ff0000;
            padding: 25px;
            width: 380px;
            border-radius: 12px;
            z-index: 9999;
            text-align: center;
            animation: fadeIn 0.4s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translate(-50%, -55%);
            }

            to {
                opacity: 1;
                transform: translate(-50%, -50%);
            }
        }

        .quiz-popup h3 {
            color: #ff4444;
            margin-bottom: 10px;
        }

        .quiz-popup input {
            width: 100%;
            padding: 10px;
            margin-top: 10px;
            background: #0f0f0f;
            border: 1px solid #ff0000;
            color: white;
            border-radius: 6px;
        }

        .quiz-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .quiz-popup button {
            flex: 1;
            padding: 10px;
            font-size: 14px;
            cursor: pointer;
            border-radius: 6px;
            border: none;
        }

        .submit-btn {
            background: #b30000;
            color: white;
            box-shadow: 0 0 10px #ff0000;
        }

        .quit-btn {
            background: #222;
            color: #aaa;
        }

        .gamer-box {
            background: #1a0000;
            border: 2px solid #ff0000;
            box-shadow: 0 0 25px #ff0000b0;
            padding: 25px;
            border-radius: 14px;
            margin-top: 15px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 12px #ff000070;
            }

            50% {
                box-shadow: 0 0 28px #ff0000e0;
            }

            100% {
                box-shadow: 0 0 12px #ff000070;
            }
        }

        .gamer-input {
            border: 1px solid #ff2020;
            box-shadow: 0 0 8px #ff000090;
        }

        .gamer-input:focus {
            outline: none;
            border-color: #ff3c00;
            box-shadow: 0 0 15px #ff3c00;
        }

        .gamer-btn {
            background: linear-gradient(90deg, #7a0000, #ff1a1a, #7a0000);
            font-weight: bold;
            letter-spacing: 1px;
            text-transform: uppercase;
            transition: 0.2s;
        }

        .gamer-btn:hover {
            transform: scale(1.04);
            box-shadow: 0 0 30px #ff1a1a;
        }

        .exam-title.gamer-glow {
            text-shadow: 0 0 15px #ff0000, 0 0 40px #ff1a1a;
        }

        .exam-result {
            margin-top: 10px;
            font-size: 18px;
            text-shadow: 0 0 10px #00ff00;
        }
    </style>
</head>

<body>

    <div class="left-container">

        <div class="tabs">
            <div class="tab active" onclick="switchTab('intro')">üìò Introduction</div>
            <div class="tab" onclick="switchTab('exam')">üìù Final Exam</div>
        </div>

        <div id="intro" class="content-box active">
            <h1>Red Team ‚Äî Level 1</h1>
            <h2>Recon Basics</h2>
            <p>
                Reconnaissance is the foundation of every offensive operation.
                <br><br>
                <strong>Passive Recon:</strong> No interaction with the target.
                <br>
                <strong>Active Recon:</strong> Direct engagement (scanning, probing).
            </p>
        </div>

        <div id="exam" class="content-box">
            <h2 class="exam-title gamer-glow">‚öîÔ∏è Final Boss Exam</h2>
            <p class="exam-sub">Defeat this challenge to unlock Level 2!</p>

            <div class="exam-box gamer-box">
                <div class="question">üéØ What is the difference between Passive vs Active recon?</div>
                <input id="q1" class="exam-input gamer-input" placeholder="Your answer...">

                <div class="question">üïµÔ∏è Name one Passive Recon tool:</div>
                <input id="q2" class="exam-input gamer-input" placeholder="Example: WHOIS">

                <div class="question">üì° Why Reconnaissance matters?</div>
                <input id="q3" class="exam-input gamer-input" placeholder="Your reason...">

                <div class="question">üí£ Give an example of Active Recon:</div>
                <input id="q4" class="exam-input gamer-input" placeholder="Example: Nmap scan">

                <div class="question">üöÄ What is the first step in recon?</div>
                <input id="q5" class="exam-input gamer-input" placeholder="Your step...">

                <button class="exam-btn gamer-btn" onclick="gradeExam()">üî• Submit Answers üî•</button>
                <p id="exam-result" class="exam-result"></p>
            </div>
        </div>

    </div>

    <div class="right-container">
        <h2>Training Video</h2>
        <video id="trainingVideo" controls>
            <source src="recon.mp4" type="video/mp4">
        </video>
    </div>

    <!-- QUIZ -->
    <div class="overlay" id="overlay"></div>

    <div class="quiz-popup" id="quiz">
        <h3>üõë Recon Checkpoint</h3>

        <!-- SEARCH CTRL+F: QUIZ_QUESTION -->
        <p>What is passive reconnaissance?</p>

        <input id="quiz-answer" placeholder="Type your answer...">

        <div class="quiz-buttons">
            <button class="submit-btn" onclick="submitQuiz()">Submit</button>
            <button class="quit-btn" onclick="quitQuiz()">Quit & Rewatch</button>
        </div>
    </div>
    <script>
        function switchTab(tab) {
            document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
            document.querySelectorAll(".content-box").forEach(c => c.classList.remove("active"));
            event.target.classList.add("active");
            document.getElementById(tab).classList.add("active");
        }

        const video = document.getElementById("trainingVideo");
        const quiz = document.getElementById("quiz");
        const overlay = document.getElementById("overlay");

        let quizTriggered = false;
        let quizPassed = false;

        const pauseTime = 90;
        const rewindTime = 10;

        setInterval(() => {
            if (!quizPassed && video.currentTime >= pauseTime) {
                quizTriggered = true;
                video.pause();
                video.currentTime = pauseTime;
                overlay.style.display = "block";
                quiz.style.display = "block";
            }
        }, 200);

        video.addEventListener("seeking", () => {
            if (!quizPassed && video.currentTime > pauseTime) {
                video.currentTime = pauseTime;
            }
        });

        function submitQuiz() {
            const answer = document.getElementById("quiz-answer").value.toLowerCase();

            if (answer.includes("passive")) {
                quizPassed = true;
                closeQuiz();
                video.play();
            } else {
                alert("Incorrect. Try again.");
            }
        }

        function quitQuiz() {
            closeQuiz();
            quizTriggered = false;
            video.currentTime = Math.max(0, pauseTime - rewindTime);
            video.play();
        }

        function closeQuiz() {
            quiz.style.display = "none";
            overlay.style.display = "none";
            document.getElementById("quiz-answer").value = "";
        }

        function gradeExam() {
            let correct = 0;

            if (q1.value.toLowerCase().includes("passive")) correct++;
            if (q2.value.toLowerCase().includes("whois") || q2.value.toLowerCase().includes("osint")) correct++;
            if (q3.value.toLowerCase().includes("information") || q3.value.toLowerCase().includes("intel")) correct++;
            if (q4.value.toLowerCase().includes("nmap") || q4.value.toLowerCase().includes("scan")) correct++;
            if (q5.value.toLowerCase().includes("recon")) correct++;

            if (correct >= 4) {
                document.getElementById("exam-result").innerText = "üî• Passed! Proceed to Level 2!";
                document.getElementById("exam-result").style.color = "#00ff00";
                setTimeout(() => {
                    window.location.href = "level2.html"; // redirect after success
                }, 1500);
            } else {
                document.getElementById("exam-result").innerText = "‚ùå Failed ‚Äî Review your knowledge!";
                document.getElementById("exam-result").style.color = "#ff0000";
            }
        }

        // ====================================================
        // üî• EXAM ANSWERS (CTRL+F: EXAM_ANSWERS)
        // ====================================================
        // Q1: Passive = no interaction | Active = direct probing
        // Q2: Example passive tool ‚Üí WHOIS, OSINT Framework
        // Q3: Recon matters = gathers information for an attack
        // Q4: Example active recon ‚Üí Nmap scan
        // Q5: First step = Reconnaissance
        // ====================================================

    </script>

</body>

</html>